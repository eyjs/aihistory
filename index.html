<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI 발전 역사 타임라인</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Arial', sans-serif;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
        min-height: 100vh;
        color: white;
        overflow-x: hidden;
      }

      .header {
        text-align: center;
        padding: 40px 20px;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
      }

      .main-title {
        font-size: 3rem;
        margin-bottom: 15px;
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #f9ca24);
        background-size: 300% 300%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: gradientShift 4s ease infinite;
      }

      @keyframes gradientShift {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      .subtitle {
        font-size: 1.2rem;
        opacity: 0.8;
        margin-bottom: 30px;
      }

      /* 학습 진도 바 추가 */
      .progress-indicator {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: rgba(255, 255, 255, 0.1);
        z-index: 100;
      }

      .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #4ecdc4, #667eea);
        width: 0%;
        transition: width 0.3s ease;
      }

      /* 성취 배지 시스템 */
      .achievement-popup {
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(45deg, #f9ca24, #f0932b);
        color: #1a1a2e;
        padding: 15px 20px;
        border-radius: 15px;
        font-weight: bold;
        z-index: 101;
        transform: translateX(100%);
        transition: transform 0.5s ease;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
      }

      .achievement-popup.show {
        transform: translateX(0);
      }

      .timeline-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 50px 20px;
        position: relative;
      }

      .timeline-line {
        position: absolute;
        left: 50%;
        top: 0;
        bottom: 0;
        width: 4px;
        background: linear-gradient(to bottom, #4ecdc4, #667eea, #764ba2);
        transform: translateX(-50%);
        border-radius: 2px;
        box-shadow: 0 0 20px rgba(78, 205, 196, 0.5);
      }

      .timeline-item {
        position: relative;
        margin: 80px 0;
        opacity: 0;
        transform: translateY(50px);
        transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        cursor: pointer;
      }

      .timeline-item.animate {
        opacity: 1;
        transform: translateY(0);
      }

      .timeline-item:nth-child(odd) .timeline-content {
        margin-left: 0;
        margin-right: 55%;
        text-align: right;
      }

      .timeline-item:nth-child(even) .timeline-content {
        margin-left: 55%;
        margin-right: 0;
        text-align: left;
      }

      .timeline-content {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(15px);
        padding: 30px;
        border-radius: 20px;
        border: 2px solid rgba(255, 255, 255, 0.1);
        position: relative;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
      }

      .timeline-content:hover {
        transform: translateY(-10px);
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        border-color: rgba(78, 205, 196, 0.5);
        background: rgba(255, 255, 255, 0.15);
      }

      .timeline-content.expanded {
        transform: translateY(-10px) scale(1.02);
        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
        border-color: rgba(78, 205, 196, 0.8);
        background: rgba(255, 255, 255, 0.2);
        z-index: 10;
      }

      .timeline-year {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        width: 80px;
        height: 80px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.1rem;
        font-weight: bold;
        z-index: 10;
        box-shadow: 0 0 30px rgba(78, 205, 196, 0.6);
        animation: pulse 2s infinite;
        transition: all 0.3s ease;
      }

      @keyframes pulse {
        0%,
        100% {
          box-shadow: 0 0 30px rgba(78, 205, 196, 0.6);
        }
        50% {
          box-shadow: 0 0 50px rgba(78, 205, 196, 0.9), 0 0 80px rgba(78, 205, 196, 0.4);
        }
      }

      .event-icon {
        font-size: 2.5rem;
        margin-bottom: 15px;
        display: block;
        animation: float 3s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .event-title {
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 15px;
        color: #4ecdc4;
      }

      .event-description {
        line-height: 1.6;
        opacity: 0.9;
        margin-bottom: 15px;
      }

      .event-impact {
        background: rgba(78, 205, 196, 0.2);
        padding: 15px;
        border-radius: 10px;
        border-left: 4px solid #4ecdc4;
        margin-top: 15px;
        font-size: 0.95rem;
      }

      .expanded-content {
        max-height: 0;
        overflow: hidden;
        opacity: 0;
        transition: all 0.5s ease;
        margin-top: 20px;
      }

      .expanded-content.show {
        max-height: 2000px;
        opacity: 1;
        overflow-y: auto;
      }

      .close-btn {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(255, 255, 255, 0.2);
        border: none;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        color: white;
        cursor: pointer;
        display: none;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
      }

      .close-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.1);
      }

      .timeline-content.expanded .close-btn {
        display: flex;
      }

      /* 개선된 인터랙티브 요소들 */
      .demo-button {
        background: linear-gradient(45deg, #4ecdc4, #44a08d);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 20px;
        cursor: pointer;
        margin: 5px;
        transition: all 0.3s ease;
        font-weight: bold;
      }

      .demo-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      /* 뉴런 시뮬레이션 스타일 */
      .neuron-simulator {
        background: rgba(255, 255, 255, 0.05);
        padding: 20px;
        border-radius: 15px;
        margin: 20px 0;
        text-align: center;
      }

      .neuron-visual {
        display: flex;
        justify-content: space-around;
        align-items: center;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .neuron {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(45deg, #4ecdc4, #44a08d);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        animation: neuronPulse 2s infinite;
        margin: 10px;
        position: relative;
      }

      @keyframes neuronPulse {
        0%,
        100% {
          transform: scale(1);
          box-shadow: 0 0 10px rgba(78, 205, 196, 0.5);
        }
        50% {
          transform: scale(1.1);
          box-shadow: 0 0 20px rgba(78, 205, 196, 0.8);
        }
      }

      .connection {
        width: 80px;
        height: 3px;
        background: linear-gradient(90deg, #4ecdc4, #667eea);
        margin: 0 10px;
        border-radius: 2px;
        animation: dataFlow 2s infinite;
      }

      @keyframes dataFlow {
        0% {
          box-shadow: 0 0 5px rgba(78, 205, 196, 0.3);
        }
        50% {
          box-shadow: 0 0 15px rgba(78, 205, 196, 0.8);
        }
        100% {
          box-shadow: 0 0 5px rgba(78, 205, 196, 0.3);
        }
      }

      /* 채팅 인터페이스 */
      .chat-interface {
        background: rgba(0, 0, 0, 0.3);
        border-radius: 15px;
        padding: 20px;
        margin: 20px 0;
        max-height: 300px;
        display: flex;
        flex-direction: column;
      }

      .chat-messages {
        flex: 1;
        overflow-y: auto;
        margin-bottom: 15px;
        max-height: 200px;
      }

      .chat-message {
        background: rgba(78, 205, 196, 0.2);
        padding: 10px 15px;
        border-radius: 15px;
        margin: 8px 0;
        animation: messageSlide 0.3s ease;
      }

      @keyframes messageSlide {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .chat-input {
        display: flex;
        gap: 10px;
      }

      .chat-input input {
        flex: 1;
        padding: 10px;
        border: none;
        border-radius: 10px;
        background: rgba(255, 255, 255, 0.1);
        color: white;
      }

      .chat-input input::placeholder {
        color: rgba(255, 255, 255, 0.6);
      }

      /* 트랜스포머 시각화 */
      .transformer-demo {
        background: rgba(255, 255, 255, 0.05);
        padding: 20px;
        border-radius: 15px;
        margin: 20px 0;
      }

      .attention-matrix {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 5px;
        margin: 15px 0;
      }

      .attention-cell {
        background: rgba(78, 205, 196, 0.3);
        padding: 10px;
        border-radius: 5px;
        text-align: center;
        font-size: 0.8rem;
        animation: attentionGlow 2s infinite;
      }

      @keyframes attentionGlow {
        0%,
        100% {
          opacity: 0.3;
        }
        50% {
          opacity: 1;
        }
      }

      /* LLM 처리 과정 시각화 */
      .llm-process {
        background: rgba(255, 255, 255, 0.05);
        padding: 20px;
        border-radius: 15px;
        margin: 20px 0;
      }

      .process-step {
        background: rgba(102, 126, 234, 0.2);
        padding: 15px;
        margin: 10px 0;
        border-radius: 10px;
        border-left: 4px solid #667eea;
        opacity: 0;
        transform: translateX(-20px);
        transition: all 0.5s ease;
      }

      .process-step.active {
        opacity: 1;
        transform: translateX(0);
      }

      .token {
        display: inline-block;
        background: linear-gradient(45deg, #4ecdc4, #44a08d);
        color: white;
        padding: 5px 10px;
        margin: 3px;
        border-radius: 15px;
        font-size: 0.9rem;
        animation: tokenAppear 0.5s ease;
      }

      @keyframes tokenAppear {
        from {
          opacity: 0;
          transform: scale(0.5);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      /* 멀티모달 데모 */
      .multimodal-demo {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }

      .modal-input {
        background: rgba(255, 255, 255, 0.1);
        padding: 20px;
        border-radius: 15px;
        text-align: center;
        transition: all 0.3s ease;
        cursor: pointer;
        border: 2px solid transparent;
      }

      .modal-input:hover {
        border-color: rgba(78, 205, 196, 0.5);
        transform: translateY(-5px);
      }

      .modal-input.active {
        border-color: #4ecdc4;
        background: rgba(78, 205, 196, 0.2);
      }

      /* 반응형 디자인 */
      @media (max-width: 768px) {
        body {
          font-size: 15px;
        }
        .main-title {
          font-size: 2.2rem;
        }
        .subtitle {
          font-size: 1rem;
        }
        .header {
          padding: 30px 15px;
        }
        .timeline-container {
          padding: 30px 10px;
        }
        .timeline-line {
          left: 30px;
        }
        .timeline-item:nth-child(odd) .timeline-content,
        .timeline-item:nth-child(even) .timeline-content {
          margin-left: 70px;
          margin-right: 10px;
          text-align: left;
        }
        .timeline-year {
          left: 30px;
          width: 55px;
          height: 55px;
          font-size: 0.8rem;
        }
        .timeline-content {
          padding: 20px;
        }
        .event-title {
          font-size: 1.3rem;
        }
        .event-description {
          font-size: 0.9rem;
        }
        .neuron-visual {
          flex-direction: column;
          gap: 10px;
        }
        .connection {
          width: 3px;
          height: 40px;
          margin: 10px 0;
        }
        .attention-matrix,
        #scalingChart div,
        #agiInfo div,
        .compare-popup .content > div,
        .capabilities-popup .content > div {
          grid-template-columns: 1fr !important;
        }
        .multimodal-demo {
          grid-template-columns: 1fr 1fr;
        }
        .llm-process,
        .neuron-simulator,
        .transformer-demo,
        .chat-interface {
          padding: 15px;
        }
        .demo-button,
        .chat-input button {
          padding: 10px 15px;
          font-size: 14px;
        }
        .eliza-popup > div,
        .compare-popup > div,
        .capabilities-popup > div,
        .creative-popup > div {
          max-width: 90vw;
          padding: 20px;
          max-height: 90vh;
        }

        /* Inputs and Buttons */
        input[type='text'],
        .chat-input input,
        .llm-process input,
        .transformer-demo input {
          font-size: 14px;
          padding: 12px;
          height: auto;
          width: 100%;
        }
        .chat-input {
          flex-direction: column;
        }
        .chat-input button {
          width: 100%;
        }
        .close-btn {
          width: 28px;
          height: 28px;
          font-size: 14px;
        }
        label {
          font-size: 14px;
          display: flex;
          flex-direction: column;
          align-items: center;
          margin-bottom: 10px;
          gap: 8px;
        }
        input[type='range'] {
          width: 180px;
        }
      }

      /* 파티클 효과 */
      .particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
      }

      .particle {
        position: absolute;
        background: rgba(78, 205, 196, 0.6);
        border-radius: 50%;
        animation: particleFloat 20s infinite linear;
      }

      @keyframes sparkle {
        0% {
          opacity: 0;
          transform: translateX(-50%) translateY(0px) scale(0.5);
        }
        50% {
          opacity: 1;
          transform: translateX(-50%) translateY(-10px) scale(1.2);
        }
        100% {
          opacity: 0;
          transform: translateX(-50%) translateY(-20px) scale(0.8);
        }
      }

      @keyframes fadeInOut {
        0% {
          opacity: 0;
          transform: translateX(-50%) scale(0.5);
        }
        50% {
          opacity: 1;
          transform: translateX(-50%) scale(1);
        }
        100% {
          opacity: 0;
          transform: translateX(-50%) scale(0.5);
        }
      }

      @keyframes slideIn {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes blink-caret {
        from,
        to {
          border-color: transparent;
        }
        50% {
          border-color: #4ecdc4;
        }
      }
    </style>
  </head>
  <body>
    <div class="particles" id="particles"></div>
    <div class="progress-indicator">
      <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- 성취 알림 팝업 -->
    <div class="achievement-popup" id="achievementPopup"></div>

    <header class="header">
      <h1 class="main-title">🤖 AI 발전 역사</h1>
      <p class="subtitle">인공지능의 놀라운 여정을 따라가며 직접 체험해보세요</p>
      <div style="font-size: 1.1rem; opacity: 0.9; margin-top: 20px">
        📜 각 시대를 클릭하여 AI 기술을 직접 체험해보세요!
      </div>
    </header>

    <div class="timeline-container">
      <div class="timeline-line"></div>

      <!-- 1943년: 첫 번째 신경망 -->
      <div class="timeline-item" onclick="toggleExpanded(this)">
        <div class="timeline-year">1943</div>
        <div class="timeline-content">
          <button class="close-btn" onclick="event.stopPropagation(); closeExpanded(this.parentElement.parentElement)">
            ✕
          </button>
          <span class="event-icon">🧠</span>
          <h3 class="event-title">첫 번째 신경망 모델</h3>
          <p class="event-description">
            워런 맥컬록과 월터 피츠가 최초의 수학적 신경망 모델을 발표했습니다. 이는 현대 AI의 기초가 되는 인공 뉴런
            개념의 시작이었습니다.
          </p>
          <div class="event-impact">💡 영향: 인공지능과 신경망 연구의 이론적 토대 마련</div>

          <div class="expanded-content">
            <h4>🔬 인공 뉴런 체험하기</h4>
            <div class="neuron-simulator">
              <p>맥컬록-피츠 뉴런이 어떻게 작동하는지 직접 확인해보세요!</p>
              <div class="neuron-visual">
                <div class="neuron" id="input1">X₁</div>
                <div class="connection"></div>
                <div class="neuron" id="processor">Σ</div>
                <div class="connection"></div>
                <div class="neuron" id="output1">Y</div>
              </div>
              <div class="neuron-visual">
                <div class="neuron" id="input2">X₂</div>
                <div class="connection"></div>
              </div>

              <div style="margin: 20px 0; background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 10px">
                <p><strong>입력값 설정:</strong></p>
                <label
                  >X₁:
                  <input type="range" id="input1Val" min="0" max="1" step="0.1" value="0.8" onchange="updateNeuron()" />
                  <span id="input1Display">0.8</span></label
                ><br />
                <label
                  >X₂:
                  <input type="range" id="input2Val" min="0" max="1" step="0.1" value="0.3" onchange="updateNeuron()" />
                  <span id="input2Display">0.3</span></label
                ><br />
                <p style="margin-top: 10px"><strong>가중치:</strong> W₁=0.6, W₂=0.4, 임계값=0.5</p>
                <p style="margin-top: 10px; color: #4ecdc4"><strong>출력:</strong> <span id="neuronOutput">1</span></p>
              </div>

              <button class="demo-button" onclick="animateNeuron()">🔥 뉴런 작동 애니메이션</button>
              <button class="demo-button" onclick="explainNeuron()">📚 상세 원리</button>

              <div
                id="neuronExplanation"
                style="
                  display: none;
                  margin-top: 15px;
                  background: rgba(78, 205, 196, 0.1);
                  padding: 15px;
                  border-radius: 10px;
                "
              >
                <h5>🧠 맥컬록-피츠 뉴런 원리:</h5>
                <ul style="text-align: left; line-height: 1.8">
                  <li><strong>가중합 계산:</strong> (X₁ × W₁) + (X₂ × W₂)</li>
                  <li><strong>임계값 비교:</strong> 가중합 > 임계값이면 1, 아니면 0</li>
                  <li><strong>생물학적 모방:</strong> 실제 뉴런의 활성화 과정 수학적 모델링</li>
                  <li><strong>현대적 의미:</strong> 모든 딥러닝의 기본 단위</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 1956년: 다트머스 컨퍼런스 -->
      <div class="timeline-item" onclick="toggleExpanded(this)">
        <div class="timeline-year">1956</div>
        <div class="timeline-content">
          <button class="close-btn" onclick="event.stopPropagation(); closeExpanded(this.parentElement.parentElement)">
            ✕
          </button>
          <span class="event-icon">🏛️</span>
          <h3 class="event-title">다트머스 컨퍼런스</h3>
          <p class="event-description">
            존 매카시가 '인공지능'이라는 용어를 처음 사용했습니다. 이 컨퍼런스는 AI 연구 분야의 공식적인 출발점으로
            여겨집니다.
          </p>
          <div class="event-impact">🎯 영향: AI라는 학문 분야의 공식적인 탄생과 연구 방향 설정</div>

          <div class="expanded-content">
            <h4>🎯 AI 비전 체험하기</h4>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 15px; margin: 20px 0">
              <p>1956년 과학자들이 상상했던 AI의 목표들을 확인해보세요!</p>

              <div id="aiGoals" style="margin: 20px 0">
                <div class="process-step" data-goal="language">
                  <h5>💬 자연어 사용</h5>
                  <p>컴퓨터가 인간의 언어를 이해하고 사용하기</p>
                  <div style="color: #4ecdc4">✅ 달성! (ChatGPT, 번역기 등)</div>
                </div>
                <div class="process-step" data-goal="learning">
                  <h5>🧠 자동 학습</h5>
                  <p>경험을 통해 스스로 성능을 향상시키기</p>
                  <div style="color: #4ecdc4">✅ 달성! (머신러닝, 딥러닝)</div>
                </div>
                <div class="process-step" data-goal="reasoning">
                  <h5>🤔 추상적 사고</h5>
                  <p>복잡한 문제를 논리적으로 해결하기</p>
                  <div style="color: #f9ca24">🔄 부분 달성 (AI 추론 시스템)</div>
                </div>
                <div class="process-step" data-goal="creativity">
                  <h5>🎨 창의성</h5>
                  <p>새로운 아이디어와 작품을 창조하기</p>
                  <div style="color: #4ecdc4">✅ 달성! (AI 아트, 음악 생성)</div>
                </div>
              </div>

              <button class="demo-button" onclick="showAIProgress()">📊 달성도 확인하기</button>
              <button class="demo-button" onclick="predictFuture()">🔮 미래 예측해보기</button>

              <div id="progressResult" style="margin-top: 15px"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- 1966년: ELIZA 챗봇 -->
      <div class="timeline-item" onclick="toggleExpanded(this)">
        <div class="timeline-year">1966</div>
        <div class="timeline-content">
          <button class="close-btn" onclick="event.stopPropagation(); closeExpanded(this.parentElement.parentElement)">
            ✕
          </button>
          <span class="event-icon">💬</span>
          <h3 class="event-title">ELIZA 챗봇</h3>
          <p class="event-description">
            조셉 바이젠바움이 개발한 ELIZA는 최초의 챗봇입니다. 간단한 패턴 매칭으로 사람과 대화하는 것처럼 보이게
            만들었습니다.
          </p>
          <div class="event-impact">🤖 영향: 자연어 처리와 인간-컴퓨터 상호작용 연구의 시작</div>

          <div class="expanded-content">
            <h4>💬 ELIZA와 대화해보기</h4>
            <div class="chat-interface">
              <div class="chat-messages" id="elizaChat">
                <div class="chat-message">
                  <strong>ELIZA:</strong> 안녕하세요. 저는 ELIZA입니다. 무엇이든 말씀해 보세요.
                </div>
              </div>
              <div class="chat-input">
                <input
                  type="text"
                  id="elizaInput"
                  placeholder="ELIZA에게 말해보세요..."
                  onkeypress="if(event.key==='Enter') sendElizaMessage()"
                />
                <button class="demo-button" onclick="sendElizaMessage()">전송</button>
              </div>
            </div>

            <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 10px; margin-top: 15px">
              <h5>🔍 ELIZA의 작동 원리:</h5>
              <ul style="text-align: left; line-height: 1.6">
                <li><strong>키워드 매칭:</strong> 특정 단어를 찾아 반응</li>
                <li><strong>패턴 치환:</strong> 미리 정해진 응답 템플릿 사용</li>
                <li><strong>질문 반사:</strong> 사용자 말을 질문으로 되돌리기</li>
                <li><strong>모호한 답변:</strong> 구체적이지 않은 응답으로 대화 이어가기</li>
              </ul>
            </div>

            <button class="demo-button" onclick="event.stopPropagation(); showElizaTricks()">🎭 ELIZA 트릭 보기</button>
            <button class="demo-button" onclick="event.stopPropagation(); compareModernAI()">🆚 현대 AI와 비교</button>
          </div>
        </div>
      </div>

      <!-- 2017년: 트랜스포머 등장 -->
      <div class="timeline-item" onclick="toggleExpanded(this)">
        <div class="timeline-year">2017</div>
        <div class="timeline-content">
          <button class="close-btn" onclick="event.stopPropagation(); closeExpanded(this.parentElement.parentElement)">
            ✕
          </button>
          <span class="event-icon">🔄</span>
          <h3 class="event-title">트랜스포머 등장</h3>
          <p class="event-description">
            "Attention Is All You Need" 논문으로 트랜스포머 아키텍처가 소개되었습니다. 이는 ChatGPT 등 현재 언어 AI의
            기초가 되었습니다.
          </p>
          <div class="event-impact">💬 영향: 자연어 처리의 패러다임 변화, 대화형 AI 시대의 기술적 토대</div>

          <div class="expanded-content">
            <h4>🎯 어텐션 메커니즘 체험하기</h4>
            <div class="transformer-demo">
              <p>트랜스포머의 핵심인 어텐션이 어떻게 작동하는지 확인해보세요!</p>

              <div style="margin: 20px 0">
                <input
                  type="text"
                  id="attentionInput"
                  placeholder="문장을 입력하세요 (예: 고양이가 매트 위에 앉았다)"
                  style="
                    width: 100%;
                    padding: 10px;
                    border-radius: 10px;
                    border: none;
                    background: rgba(255, 255, 255, 0.1);
                    color: white;
                  "
                />
              </div>

              <button class="demo-button" onclick="visualizeAttention()">🔍 어텐션 시각화</button>
              <button class="demo-button" onclick="showTransformerLayers()">🏗️ 트랜스포머 구조</button>

              <div id="attentionVisualization" style="margin-top: 20px"></div>

              <div
                id="transformerStructure"
                style="
                  display: none;
                  margin-top: 20px;
                  background: rgba(255, 255, 255, 0.05);
                  padding: 20px;
                  border-radius: 15px;
                "
              >
                <h5>🏗️ 트랜스포머 아키텍처:</h5>
                <div class="process-step active">
                  <strong>1. 입력 임베딩</strong><br />
                  단어들을 벡터로 변환
                </div>
                <div class="process-step">
                  <strong>2. 포지셔널 인코딩</strong><br />
                  단어의 위치 정보 추가
                </div>
                <div class="process-step">
                  <strong>3. 멀티헤드 어텐션</strong><br />
                  여러 관점에서 단어 관계 파악
                </div>
                <div class="process-step">
                  <strong>4. 피드포워드</strong><br />
                  정보 변환 및 정제
                </div>
                <div class="process-step">
                  <strong>5. 출력 생성</strong><br />
                  다음 단어 예측 또는 번역
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 2020년: 대규모 언어 모델 -->
      <div class="timeline-item" onclick="toggleExpanded(this)">
        <div class="timeline-year">2020</div>
        <div class="timeline-content">
          <button class="close-btn" onclick="event.stopPropagation(); closeExpanded(this.parentElement.parentElement)">
            ✕
          </button>
          <span class="event-icon">📚</span>
          <h3 class="event-title">대규모 언어 모델 (LLM) 시대</h3>
          <p class="event-description">
            GPT-3의 등장으로 대규모 언어 모델이 주목받기 시작했습니다. 1750억 개의 매개변수로 놀라운 언어 이해 능력을
            보여줬습니다.
          </p>
          <div class="event-impact">🚀 영향: 생성형 AI의 가능성을 세계에 알리고, AI 응용 분야 확장</div>

          <div class="expanded-content">
            <h4>🧠 LLM 처리 과정 체험하기</h4>
            <div class="llm-process">
              <p>여러분의 질문이 어떻게 AI 답변으로 변환되는지 단계별로 확인해보세요!</p>

              <div style="margin: 20px 0">
                <input
                  type="text"
                  id="llmInput"
                  placeholder="AI에게 질문해보세요 (예: 바나나의 영양성분을 알려줘)"
                  style="
                    width: 100%;
                    padding: 15px;
                    border-radius: 10px;
                    border: none;
                    background: rgba(255, 255, 255, 0.1);
                    color: white;
                    font-size: 1rem;
                  "
                />
              </div>

              <button class="demo-button" onclick="processLLMQuery()">🚀 LLM 처리 과정 보기</button>
              <button class="demo-button" onclick="showScaling()">📈 모델 크기 비교</button>

              <div id="llmSteps" style="margin-top: 20px"></div>

              <div
                id="scalingChart"
                style="
                  display: none;
                  margin-top: 20px;
                  background: rgba(255, 255, 255, 0.05);
                  padding: 20px;
                  border-radius: 15px;
                "
              >
                <h5>📊 언어 모델 발전사:</h5>
                <div
                  style="
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 15px;
                    margin: 15px 0;
                  "
                >
                  <div style="background: rgba(78, 205, 196, 0.2); padding: 15px; border-radius: 10px">
                    <strong>GPT-1 (2018)</strong><br />
                    1.1억 매개변수<br />
                    <div
                      style="width: 20%; height: 10px; background: #4ecdc4; border-radius: 5px; margin-top: 5px"
                    ></div>
                  </div>
                  <div style="background: rgba(102, 126, 234, 0.2); padding: 15px; border-radius: 10px">
                    <strong>GPT-2 (2019)</strong><br />
                    15억 매개변수<br />
                    <div
                      style="width: 40%; height: 10px; background: #667eea; border-radius: 5px; margin-top: 5px"
                    ></div>
                  </div>
                  <div style="background: rgba(249, 202, 36, 0.2); padding: 15px; border-radius: 10px">
                    <strong>GPT-3 (2020)</strong><br />
                    1750억 매개변수<br />
                    <div
                      style="width: 80%; height: 10px; background: #f9ca24; border-radius: 5px; margin-top: 5px"
                    ></div>
                  </div>
                  <div style="background: rgba(255, 107, 107, 0.2); padding: 15px; border-radius: 10px">
                    <strong>GPT-4 (2023)</strong><br />
                    추정 1조+ 매개변수<br />
                    <div
                      style="width: 100%; height: 10px; background: #ff6b6b; border-radius: 5px; margin-top: 5px"
                    ></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 2022년: ChatGPT 공개 -->
      <div class="timeline-item" onclick="toggleExpanded(this)">
        <div class="timeline-year">2022</div>
        <div class="timeline-content">
          <button class="close-btn" onclick="event.stopPropagation(); closeExpanded(this.parentElement.parentElement)">
            ✕
          </button>
          <span class="event-icon">💬</span>
          <h3 class="event-title">ChatGPT 공개</h3>
          <p class="event-description">
            OpenAI의 ChatGPT가 공개되면서 생성형 AI 시대가 본격적으로 시작되었습니다. 5일 만에 100만 사용자를
            돌파했습니다.
          </p>
          <div class="event-impact">🚀 영향: AI의 대중화, 교육, 업무, 창작 등 모든 분야에서의 AI 활용 확산</div>

          <div class="expanded-content">
            <h4>🤖 AI 어시스턴트 체험하기</h4>
            <div class="chat-interface">
              <div class="chat-messages" id="modernChat">
                <div class="chat-message">
                  <strong>AI:</strong> 안녕하세요! 저는 현대적인 AI 어시스턴트입니다. 무엇을 도와드릴까요?
                </div>
              </div>
              <div class="chat-input">
                <input
                  type="text"
                  id="modernInput"
                  placeholder="현대 AI에게 질문해보세요..."
                  onkeypress="if(event.key==='Enter') sendModernMessage()"
                />
                <button class="demo-button" onclick="sendModernMessage()">전송</button>
              </div>
            </div>

            <div style="margin: 20px 0">
              <h5>💡 ChatGPT vs ELIZA 비교:</h5>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 15px 0">
                <div style="background: rgba(255, 107, 107, 0.1); padding: 15px; border-radius: 10px">
                  <h6>🤖 ELIZA (1966)</h6>
                  <ul style="text-align: left; font-size: 0.9rem; line-height: 1.5">
                    <li>키워드 기반 응답</li>
                    <li>패턴 매칭</li>
                    <li>문맥 이해 불가</li>
                    <li>학습 능력 없음</li>
                  </ul>
                </div>
                <div style="background: rgba(78, 205, 196, 0.1); padding: 15px; border-radius: 10px">
                  <h6>🧠 ChatGPT (2022)</h6>
                  <ul style="text-align: left; font-size: 0.9rem; line-height: 1.5">
                    <li>딥러닝 기반</li>
                    <li>문맥 완전 이해</li>
                    <li>창의적 생성</li>
                    <li>다중 작업 수행</li>
                  </ul>
                </div>
              </div>
            </div>

            <button class="demo-button" onclick="showChatGPTCapabilities()">✨ ChatGPT 능력 체험</button>
            <button class="demo-button" onclick="generateCreativeContent()">🎨 창작 능력 테스트</button>
          </div>
        </div>
      </div>

      <!-- 2023년: AI 워크플로우 -->
      <div class="timeline-item" onclick="toggleExpanded(this)">
        <div class="timeline-year">2023</div>
        <div class="timeline-content">
          <button class="close-btn" onclick="event.stopPropagation(); closeExpanded(this.parentElement.parentElement)">
            ✕
          </button>
          <span class="event-icon">⚙️</span>
          <h3 class="event-title">AI 워크플로우 자동화</h3>
          <p class="event-description">
            여러 AI 모델과 도구를 순차적 또는 병렬적으로 연결하여 복잡한 작업을 자율적으로 수행하는 워크플로우 기술이
            발전했습니다. 이는 단순한 AI 응답을 넘어선, 실제 문제 해결 능력을 보여줍니다.
          </p>
          <div class="event-impact">💡 영향: 생산성 혁신, 전문가 수준의 자동화, 복잡한 문제 해결 능력 확보</div>

          <div class="expanded-content">
            <h4>⚙️ AI 워크플로우 체험하기</h4>
            <div class="llm-process">
              <p>복잡한 사용자 요청이 워크플로우를 통해 어떻게 처리되는지 확인해보세요!</p>
              <div style="margin: 20px 0">
                <input
                  type="text"
                  id="workflowInput"
                  value="오늘 날씨를 보고 관련 옷차림을 추천해줘"
                  style="
                    width: 100%;
                    padding: 15px;
                    border-radius: 10px;
                    border: none;
                    background: rgba(255, 255, 255, 0.1);
                    color: white;
                    font-size: 1rem;
                  "
                />
              </div>
              <button class="demo-button" onclick="processWorkflow()">🚀 워크플로우 실행</button>
              <div id="workflowSteps" style="margin-top: 20px"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- 2024년: 멀티모달 AI -->
      <div class="timeline-item" onclick="toggleExpanded(this)">
        <div class="timeline-year">2024</div>
        <div class="timeline-content">
          <button class="close-btn" onclick="event.stopPropagation(); closeExpanded(this.parentElement.parentElement)">
            ✕
          </button>
          <span class="event-icon">🧠</span>
          <h3 class="event-title">멀티모달 AI와 AGI 연구</h3>
          <p class="event-description">
            텍스트, 이미지, 음성, 비디오를 동시에 이해하는 멀티모달 AI가 등장했습니다. 범용 인공지능(AGI) 개발에 한 걸음
            더 다가섰습니다.
          </p>
          <div class="event-impact">🌟 영향: 인간과 유사한 종합적 이해 능력, 모든 형태의 정보 처리 가능</div>

          <div class="expanded-content">
            <h4>🎭 멀티모달 AI 체험하기</h4>
            <div class="multimodal-demo">
              <div class="modal-input" onclick="testModality('text')">
                <div style="font-size: 2rem; margin-bottom: 10px">📝</div>
                <strong>텍스트</strong><br />
                자연어 이해
              </div>
              <div class="modal-input" onclick="testModality('image')">
                <div style="font-size: 2rem; margin-bottom: 10px">🖼️</div>
                <strong>이미지</strong><br />
                시각 정보 분석
              </div>
              <div class="modal-input" onclick="testModality('audio')">
                <div style="font-size: 2rem; margin-bottom: 10px">🎵</div>
                <strong>음성</strong><br />
                음성 인식/합성
              </div>
              <div class="modal-input" onclick="testModality('video')">
                <div style="font-size: 2rem; margin-bottom: 10px">🎬</div>
                <strong>비디오</strong><br />
                동영상 이해
              </div>
            </div>

            <div
              id="modalityResult"
              style="
                margin-top: 20px;
                padding: 20px;
                background: rgba(255, 255, 255, 0.05);
                border-radius: 15px;
                display: none;
              "
            >
              <h5>🔍 선택한 모달리티 분석 결과:</h5>
              <div id="modalityContent"></div>
            </div>

            <div style="margin-top: 20px">
              <button class="demo-button" onclick="showAGIProgress()">🤖 AGI 진행 상황</button>
              <button class="demo-button" onclick="predictAGIFuture()">🔮 AGI 미래 예측</button>
            </div>

            <div
              id="agiInfo"
              style="
                display: none;
                margin-top: 20px;
                background: rgba(255, 255, 255, 0.05);
                padding: 20px;
                border-radius: 15px;
              "
            >
              <h5>🎯 AGI (Artificial General Intelligence) 달성 조건:</h5>
              <div style="margin: 15px 0">
                <div style="display: flex; justify-content: space-between; margin: 10px 0">
                  <span>🧠 추론 능력</span>
                  <div style="width: 60%; background: rgba(255, 255, 255, 0.1); border-radius: 10px">
                    <div style="width: 75%; height: 10px; background: #4ecdc4; border-radius: 10px"></div>
                  </div>
                  <span>75%</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin: 10px 0">
                  <span>🎨 창의성</span>
                  <div style="width: 60%; background: rgba(255, 255, 255, 0.1); border-radius: 10px">
                    <div style="width: 60%; height: 10px; background: #667eea; border-radius: 10px"></div>
                  </div>
                  <span>60%</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin: 10px 0">
                  <span>🤝 사회적 지능</span>
                  <div style="width: 60%; background: rgba(255, 255, 255, 0.1); border-radius: 10px">
                    <div style="width: 40%; height: 10px; background: #f9ca24; border-radius: 10px"></div>
                  </div>
                  <span>40%</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin: 10px 0">
                  <span>🔧 일반 문제 해결</span>
                  <div style="width: 60%; background: rgba(255, 255, 255, 0.1); border-radius: 10px">
                    <div style="width: 55%; height: 10px; background: #ff6b6b; border-radius: 10px"></div>
                  </div>
                  <span>55%</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 2024년: 자율 AI 에이전트 -->
      <div class="timeline-item" onclick="toggleExpanded(this)">
        <div class="timeline-year">2024</div>
        <div class="timeline-content">
          <button class="close-btn" onclick="event.stopPropagation(); closeExpanded(this.parentElement.parentElement)">
            ✕
          </button>
          <span class="event-icon">🤖</span>
          <h3 class="event-title">자율 AI 에이전트</h3>
          <p class="event-description">
            목표를 부여받으면 스스로 계획을 세우고, 인터넷을 검색하며, 코드를 실행하고, 스스로를 수정하여 목표를
            달성하는 자율 AI 에이전트가 등장했습니다.
          </p>
          <div class="event-impact">
            🌟 영향: 인간의 개입 최소화, 24시간 작동하는 디지털 직원, 특정 작업의 완전 자동화
          </div>

          <div class="expanded-content">
            <h4>🤖 AI 에이전트와 대화하기</h4>
            <div class="chat-interface">
              <div class="chat-messages" id="agentChat">
                <div class="chat-message">
                  <strong>AI 에이전트:</strong> 안녕하세요. 제게 목표를 알려주시면, 달성하기 위한 계획을 세우고
                  실행하겠습니다.
                </div>
              </div>
              <div class="chat-input">
                <input
                  type="text"
                  id="agentInput"
                  placeholder="예: '최신 AI 뉴스 3개를 요약해줘'"
                  onkeypress="if(event.key==='Enter') runAgent()"
                />
                <button class="demo-button" onclick="runAgent()">에이전트 실행</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 2025년: AI 생태계 -->
      <div class="timeline-item" onclick="toggleExpanded(this)">
        <div class="timeline-year">2025</div>
        <div class="timeline-content">
          <button class="close-btn" onclick="event.stopPropagation(); closeExpanded(this.parentElement.parentElement)">
            ✕
          </button>
          <span class="event-icon">🚀</span>
          <h3 class="event-title">AI 생태계와 미래 전망</h3>
          <p class="event-description">
            다양한 AI 모델들이 하나의 생태계로 통합되어 협력하고, 실시간으로 학습하며 진화하는 AI 시스템이 등장했습니다.
          </p>
          <div class="event-impact">🌐 영향: AI의 완전한 사회 통합, 개인 맞춤형 AI 어시스턴트 시대</div>

          <div class="expanded-content">
            <h4>🔮 AI 미래 시나리오 체험하기</h4>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 15px; margin: 20px 0">
              <p>10년 후 AI가 어떻게 우리 삶을 바꿀지 시나리오를 체험해보세요!</p>

              <div
                style="
                  display: grid;
                  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                  gap: 15px;
                  margin: 20px 0;
                "
              >
                <button
                  class="demo-button"
                  onclick="showFutureScenario('education')"
                  style="padding: 20px; height: auto"
                >
                  🎓<br /><strong>교육 혁신</strong><br />
                  <small>개인 맞춤 학습</small>
                </button>
                <button
                  class="demo-button"
                  onclick="showFutureScenario('healthcare')"
                  style="padding: 20px; height: auto"
                >
                  🏥<br /><strong>의료 혁명</strong><br />
                  <small>예방 중심 의료</small>
                </button>
                <button class="demo-button" onclick="showFutureScenario('work')" style="padding: 20px; height: auto">
                  💼<br /><strong>업무 변화</strong><br />
                  <small>인간-AI 협업</small>
                </button>
                <button
                  class="demo-button"
                  onclick="showFutureScenario('creativity')"
                  style="padding: 20px; height: auto"
                >
                  🎨<br /><strong>창작 지원</strong><br />
                  <small>AI 공동 창작</small>
                </button>
              </div>

              <div id="futureScenario" style="margin-top: 20px"></div>
            </div>

            <div style="margin-top: 20px">
              <button class="demo-button" onclick="takeAIQuiz()">🧪 AI 지식 테스트</button>
              <button class="demo-button" onclick="showAITimeline()">📊 전체 여정 정리</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      let currentlyExpanded = null;
      let achievementsUnlocked = [];
      let totalInteractions = 0;

      // 파티클 생성
      function createParticles() {
        const particlesContainer = document.getElementById('particles');
        for (let i = 0; i < 30; i++) {
          const particle = document.createElement('div');
          particle.className = 'particle';
          particle.style.left = Math.random() * 100 + '%';
          particle.style.width = Math.random() * 4 + 2 + 'px';
          particle.style.height = particle.style.width;
          particle.style.animationDelay = Math.random() * 20 + 's';
          particle.style.animationDuration = Math.random() * 10 + 15 + 's';
          particlesContainer.appendChild(particle);
        }
      }

      // 확장 콘텐츠 토글 함수를 전역으로 정의
      function toggleExpanded(timelineItem) {
        const content = timelineItem.querySelector('.timeline-content');
        const expandedContent = timelineItem.querySelector('.expanded-content');

        if (currentlyExpanded && currentlyExpanded !== timelineItem) {
          closeExpanded(currentlyExpanded);
        }

        if (!content.classList.contains('expanded')) {
          content.classList.add('expanded');
          expandedContent.classList.add('show');
          currentlyExpanded = timelineItem;

          setTimeout(() => {
            timelineItem.scrollIntoView({
              behavior: 'smooth',
              block: 'center',
            });
          }, 300);

          // 첫 방문 시 성취 알림
          const year = timelineItem.querySelector('.timeline-year').textContent;
          unlockAchievement(year + '년대 탐험가');
        }
      }

      function closeExpanded(timelineItem) {
        const content = timelineItem.querySelector('.timeline-content');
        const expandedContent = timelineItem.querySelector('.expanded-content');

        content.classList.remove('expanded');
        expandedContent.classList.remove('show');

        if (currentlyExpanded === timelineItem) {
          currentlyExpanded = null;
        }
      }

      // 성취 시스템
      function unlockAchievement(achievementName) {
        if (achievementsUnlocked.includes(achievementName)) return;

        achievementsUnlocked.push(achievementName);
        showAchievementPopup(`🎉 "${achievementName}" 달성!`);
        updateProgress();
      }

      function showAchievementPopup(message) {
        const popup = document.getElementById('achievementPopup');
        popup.textContent = message;
        popup.classList.add('show');

        setTimeout(() => {
          popup.classList.remove('show');
        }, 3000);
      }

      function updateProgress() {
        const progress = Math.min((achievementsUnlocked.length / 10) * 100, 100);
        document.getElementById('progressBar').style.width = progress + '%';
      }

      function incrementInteraction() {
        totalInteractions++;
        if (totalInteractions === 5) unlockAchievement('호기심 대장');
        if (totalInteractions === 15) unlockAchievement('AI 탐험 마스터');
      }

      // 1943년 뉴런 시뮬레이션
      function updateNeuron() {
        const x1 = parseFloat(document.getElementById('input1Val').value);
        const x2 = parseFloat(document.getElementById('input2Val').value);

        document.getElementById('input1Display').textContent = x1;
        document.getElementById('input2Display').textContent = x2;

        const weightedSum = x1 * 0.6 + x2 * 0.4;
        const output = weightedSum > 0.5 ? 1 : 0;

        document.getElementById('neuronOutput').textContent = output;
        document.getElementById('neuronOutput').style.color = output ? '#4ecdc4' : '#ff6b6b';

        incrementInteraction();
      }

      function animateNeuron() {
        // 현재 뉴런 상태 계산
        const x1 = parseFloat(document.getElementById('input1Val').value);
        const x2 = parseFloat(document.getElementById('input2Val').value);
        const weightedSum = x1 * 0.6 + x2 * 0.4;
        const isActivated = weightedSum > 0.5;

        const neurons = document.querySelectorAll('.neuron');
        const connections = document.querySelectorAll('.connection');

        // 입력 뉴런들 먼저 애니메이션
        neurons[0].style.transform = 'scale(1.3)';
        neurons[0].style.background =
          x1 > 0.5 ? 'linear-gradient(45deg, #4ecdc4, #44a08d)' : 'linear-gradient(45deg, #666, #888)';

        neurons[1].style.transform = 'scale(1.3)';
        neurons[1].style.background =
          x2 > 0.5 ? 'linear-gradient(45deg, #4ecdc4, #44a08d)' : 'linear-gradient(45deg, #666, #888)';

        // 연결선 애니메이션 (신호 전달)
        setTimeout(() => {
          connections.forEach((connection) => {
            connection.style.animation = 'none';
            connection.offsetHeight; // 리플로우 강제 실행
            connection.style.animation = 'dataFlow 1s ease';
          });
        }, 300);

        // 프로세서 뉴런 애니메이션 (가중합 계산)
        setTimeout(() => {
          const processor = neurons[2]; // 중간 프로세서 뉴런
          processor.style.transform = 'scale(1.4)';
          processor.style.background = 'linear-gradient(45deg, #f9ca24, #f0932b)';
          processor.innerHTML = `Σ=${weightedSum.toFixed(1)}`;

          // 계산 과정 표시
          setTimeout(() => {
            processor.innerHTML = weightedSum > 0.5 ? 'Σ>0.5' : 'Σ≤0.5';
          }, 500);
        }, 800);

        // 출력 뉴런 최종 애니메이션
        setTimeout(() => {
          const output = neurons[3]; // 출력 뉴런

          if (isActivated) {
            // 활성화 애니메이션
            output.style.transform = 'scale(1.5)';
            output.style.background = 'linear-gradient(45deg, #4ecdc4, #44a08d)';
            output.style.boxShadow = '0 0 30px rgba(78, 205, 196, 1)';
            output.innerHTML = '1';

            // 성공 효과
            const sparkles = document.createElement('div');
            sparkles.innerHTML = '✨';
            sparkles.style.cssText = `
                        position: absolute;
                        top: -20px;
                        left: 50%;
                        transform: translateX(-50%);
                        font-size: 1.5rem;
                        animation: sparkle 1s ease;
                        pointer-events: none;
                    `;
            output.style.position = 'relative';
            output.appendChild(sparkles);

            setTimeout(() => sparkles.remove(), 1000);
          } else {
            // 비활성화 애니메이션
            output.style.transform = 'scale(1.1)';
            output.style.background = 'linear-gradient(45deg, #666, #888)';
            output.style.boxShadow = '0 0 10px rgba(128, 128, 128, 0.5)';
            output.innerHTML = '0';

            // 실패 효과
            const cross = document.createElement('div');
            cross.innerHTML = '❌';
            cross.style.cssText = `
                        position: absolute;
                        top: -20px;
                        left: 50%;
                        transform: translateX(-50%);
                        font-size: 1.2rem;
                        animation: fadeInOut 1s ease;
                        pointer-events: none;
                    `;
            output.style.position = 'relative';
            output.appendChild(cross);

            setTimeout(() => cross.remove(), 1000);
          }
        }, 1300);

        // 모든 뉴런을 원래 상태로 복원
        setTimeout(() => {
          neurons.forEach((neuron, index) => {
            neuron.style.transform = 'scale(1)';
            neuron.style.background = 'linear-gradient(45deg, #4ecdc4, #44a08d)';
            neuron.style.boxShadow = '0 4px 15px rgba(78, 205, 196, 0.4)';

            // 원래 텍스트로 복원
            if (index === 0) neuron.innerHTML = 'X₁';
            else if (index === 1) neuron.innerHTML = 'X₂';
            else if (index === 2) neuron.innerHTML = 'Σ';
            else if (index === 3) neuron.innerHTML = 'Y';
          });

          connections.forEach((connection) => {
            connection.style.animation = 'dataFlow 2s infinite';
          });
        }, 3000);

        unlockAchievement('뉴런 애니메이터');
        incrementInteraction();
      }

      // CSS 애니메이션 추가
      const additionalStyles = `
            @keyframes sparkle {
                0% { opacity: 0; transform: translateX(-50%) translateY(0px) scale(0.5); }
                50% { opacity: 1; transform: translateX(-50%) translateY(-10px) scale(1.2); }
                100% { opacity: 0; transform: translateX(-50%) translateY(-20px) scale(0.8); }
            }
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translateX(-50%) scale(0.5); }
                50% { opacity: 1; transform: translateX(-50%) scale(1); }
                100% { opacity: 0; transform: translateX(-50%) scale(0.5); }
            }
        `;

      // 기존 스타일시트에 새 애니메이션 추가
      document.addEventListener('DOMContentLoaded', function () {
        const existingStyle = document.querySelector('style');
        if (existingStyle) {
          existingStyle.textContent += additionalStyles;
        } else {
          const styleSheet = document.createElement('style');
          styleSheet.textContent = additionalStyles;
          document.head.appendChild(styleSheet);
        }
      });

      function explainNeuron() {
        const explanation = document.getElementById('neuronExplanation');
        explanation.style.display = explanation.style.display === 'none' ? 'block' : 'none';
        incrementInteraction();
      }

      // 1956년 AI 목표 진행도
      function showAIProgress() {
        const goals = document.querySelectorAll('.process-step');
        goals.forEach((goal, index) => {
          setTimeout(() => {
            goal.classList.add('active');
          }, index * 300);
        });
        unlockAchievement('AI 비전 이해자');
        incrementInteraction();
      }

      function predictFuture() {
        const result = document.getElementById('progressResult');
        result.innerHTML = `
                <div style="background: rgba(78, 205, 196, 0.1); padding: 15px; border-radius: 10px; margin-top: 15px;">
                    <h5>🔮 AI 미래 예측 (2025-2035):</h5>
                    <ul style="text-align: left; line-height: 1.8;">
                        <li><strong>2027년:</strong> 개인 맞춤형 AI 튜터 상용화</li>
                        <li><strong>2030년:</strong> 실시간 언어 번역 완전 자동화</li>
                        <li><strong>2033년:</strong> AI 의료 진단 정확도 95% 달성</li>
                        <li><strong>2035년:</strong> AGI 프로토타입 등장</li>
                    </ul>
                </div>
            `;
        incrementInteraction();
      }

      // 1966년 ELIZA 채팅
      function sendElizaMessage() {
        const input = document.getElementById('elizaInput');
        const message = input.value.trim();
        if (!message) return;

        const chatDiv = document.getElementById('elizaChat');

        // 사용자 메시지 추가
        const userMsg = document.createElement('div');
        userMsg.className = 'chat-message';
        userMsg.innerHTML = `<strong>사용자:</strong> ${message}`;
        chatDiv.appendChild(userMsg);

        // ELIZA 응답 생성
        setTimeout(() => {
          const response = generateElizaResponse(message);
          const elizaMsg = document.createElement('div');
          elizaMsg.className = 'chat-message';
          elizaMsg.innerHTML = `<strong>ELIZA:</strong> ${response}`;
          chatDiv.appendChild(elizaMsg);
          chatDiv.scrollTop = chatDiv.scrollHeight;
        }, 500);

        input.value = '';
        unlockAchievement('ELIZA 대화 전문가');
        incrementInteraction();
      }

      function generateElizaResponse(message) {
        const lowerMsg = message.toLowerCase().trim();

        // ELIZA의 실제 패턴 매칭 방식 구현

        // 1. 키워드 기반 응답 (트릭에서 설명한 대로)
        const keywordResponses = {
          슬프: '왜 슬프다고 생각하세요?',
          슬퍼: '왜 슬프다고 생각하세요?',
          우울: '우울하다고 느끼시는군요. 그에 대해 더 말씀해 주세요.',
          행복: '행복하시다니 좋네요. 무엇이 당신을 행복하게 만드나요?',
          기쁘: '기쁘시다니 다행입니다. 그 기쁨에 대해 더 말씀해 주세요.',
          화나: '화가 나시는군요. 무엇 때문에 화가 나시나요?',
          짜증: '짜증이 나시는군요. 그 감정에 대해 더 이야기해 주세요.',
          사랑: '사랑에 대해 이야기하고 싶으시군요. 어떤 사랑인가요?',
          엄마: '어머니에 대해 말씀해 주세요.',
          어머니: '어머니에 대해 말씀해 주세요.',
          아버지: '아버지와의 관계는 어떠신가요?',
          아빠: '아버지와의 관계는 어떠신가요?',
          꿈: '그 꿈에 대해 더 자세히 들려주세요.',
          미래: '미래에 대해 어떻게 생각하시나요?',
          과거: '과거에 대해 이야기하고 싶으시군요.',
          죽: '죽음에 대해 생각하고 계시는군요. 그것에 대해 어떻게 느끼세요?',
          학교: '학교에 대해 어떻게 생각하시나요?',
          친구: '친구에 대해 말씀해 주세요.',
          돈: '돈이 당신에게 무엇을 의미하나요?',
          컴퓨터: '컴퓨터에 대해 어떻게 생각하시나요?',
        };

        // 2. "나는/저는" 패턴을 "당신은"으로 바꾸는 트릭
        if (lowerMsg.includes('나는') || lowerMsg.includes('저는')) {
          const transformed = lowerMsg.replace('나는', '당신은').replace('저는', '당신은');
          return transformed + '라고 말씀하시는군요. 왜 그렇게 생각하시나요?';
        }

        // 3. 질문 형태면 되돌려서 질문하기
        if (lowerMsg.includes('?') || lowerMsg.includes('까') || lowerMsg.includes('나요')) {
          return '그것에 대해 당신은 어떻게 생각하시나요?';
        }

        // 4. 키워드 매칭
        for (let keyword in keywordResponses) {
          if (lowerMsg.includes(keyword)) {
            return keywordResponses[keyword];
          }
        }

        // 5. 감정 표현 감지
        const emotionPatterns = [
          { pattern: /힘들|어려|고민|문제/, response: '그것이 당신에게 어떤 의미인가요?' },
          { pattern: /좋|멋지|훌륭/, response: '그것에 대해 더 자세히 말씀해 주세요.' },
          { pattern: /싫|나쁘|별로/, response: '왜 그렇게 느끼시나요?' },
          { pattern: /모르|잘못|확실/, response: '확실하지 않다고 느끼시는군요.' },
        ];

        for (let emotion of emotionPatterns) {
          if (emotion.pattern.test(lowerMsg)) {
            return emotion.response;
          }
        }

        // 6. 기본 ELIZA 스타일 응답들 (애매하고 치료사 같은)
        const defaultResponses = [
          '흥미롭네요. 더 자세히 말씀해 주실 수 있나요?',
          '그것에 대해 어떻게 느끼시나요?',
          '왜 그렇게 생각하시나요?',
          '그것이 당신에게 무엇을 의미하나요?',
          '계속 말씀해 주세요.',
          '그에 대해 더 이야기해 주시겠어요?',
          '당신의 마음에 무엇이 떠오르나요?',
          '그것이 중요하다고 생각하시나요?',
        ];

        return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
      }

      // ELIZA 관련 함수들을 전역으로 정의
      function showElizaTricks() {
        console.log('showElizaTricks 함수 호출됨'); // 디버깅용

        // 기존 팝업이 있다면 제거
        const existingPopup = document.querySelector('.eliza-popup');
        if (existingPopup) {
          existingPopup.remove();
        }

        const tricksDiv = document.createElement('div');
        tricksDiv.className = 'eliza-popup';
        tricksDiv.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                z-index: 1002;
                display: flex;
                align-items: center;
                justify-content: center;
            `;

        const content = document.createElement('div');
        content.style.cssText = `
                background: rgba(26, 26, 46, 0.98);
                padding: 30px;
                border-radius: 20px;
                color: white;
                max-width: 500px;
                max-height: 80vh;
                overflow-y: auto;
                border: 2px solid #4ecdc4;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                position: relative;
            `;

        content.innerHTML = `
                <h3 style="color: #4ecdc4; margin-bottom: 20px;">🎭 ELIZA의 대화 트릭</h3>
                <div style="text-align: left; line-height: 1.8;">
                    <div style="margin: 15px 0; padding: 10px; background: rgba(78, 205, 196, 0.1); border-radius: 10px;">
                        <strong>1. 질문 되돌리기</strong><br>
                        사용자: "저는 슬퍼요"<br>
                        ELIZA: "왜 슬프다고 생각하세요?"
                    </div>
                    <div style="margin: 15px 0; padding: 10px; background: rgba(102, 126, 234, 0.1); border-radius: 10px;">
                        <strong>2. 키워드 반응</strong><br>
                        "어머니" → "어머니에 대해 말씀해 주세요"<br>
                        "꿈" → "그 꿈에 대해 더 자세히..."
                    </div>
                    <div style="margin: 15px 0; padding: 10px; background: rgba(249, 202, 36, 0.1); border-radius: 10px;">
                        <strong>3. 애매한 응답</strong><br>
                        "흥미롭네요. 더 말씀해 주세요"<br>
                        "그것에 대해 어떻게 느끼세요?"
                    </div>
                    <div style="margin: 15px 0; padding: 10px; background: rgba(255, 107, 107, 0.1); border-radius: 10px;">
                        <strong>4. 치료사 역할</strong><br>
                        항상 질문으로 대답하며 상담하는 듯한 분위기 연출
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="close-popup-btn" style="background: #4ecdc4; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer;">닫기</button>
                </div>
            `;

        tricksDiv.appendChild(content);
        document.body.appendChild(tricksDiv);

        // 이벤트 리스너 추가
        const closeBtn = content.querySelector('.close-popup-btn');
        closeBtn.addEventListener('click', function (e) {
          e.stopPropagation();
          tricksDiv.remove();
        });

        // 배경 클릭으로 닫기
        tricksDiv.addEventListener('click', function (e) {
          if (e.target === tricksDiv) {
            tricksDiv.remove();
          }
        });

        // 콘텐츠 클릭 시 이벤트 전파 방지
        content.addEventListener('click', function (e) {
          e.stopPropagation();
        });

        incrementInteraction();
      }

      function compareModernAI() {
        console.log('compareModernAI 함수 호출됨'); // 디버깅용

        // 기존 팝업이 있다면 제거
        const existingPopup = document.querySelector('.compare-popup');
        if (existingPopup) {
          existingPopup.remove();
        }

        const compareDiv = document.createElement('div');
        compareDiv.className = 'compare-popup';
        compareDiv.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                z-index: 1002;
                display: flex;
                align-items: center;
                justify-content: center;
            `;

        const content = document.createElement('div');
        content.style.cssText = `
                background: rgba(26, 26, 46, 0.98);
                padding: 30px;
                border-radius: 20px;
                color: white;
                max-width: 700px;
                max-height: 80vh;
                overflow-y: auto;
                border: 2px solid #4ecdc4;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                position: relative;
            `;

        content.innerHTML = `
                <h3 style="color: #4ecdc4; margin-bottom: 20px;">🆚 ELIZA vs 현대 AI 비교</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 15px;">
                        <h4 style="color: #ff6b6b; margin-bottom: 15px;">🤖 ELIZA (1966)</h4>
                        <ul style="text-align: left; line-height: 1.6; padding-left: 20px;">
                            <li>❌ 문맥 이해 불가</li>
                            <li>❌ 실제 지식 없음</li>
                            <li>❌ 패턴 매칭만 사용</li>
                            <li>❌ 학습 능력 없음</li>
                            <li>❌ 창의적 응답 불가</li>
                        </ul>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(255, 107, 107, 0.2); border-radius: 8px;">
                            <strong>예시:</strong><br>
                            "바나나는 맛있어요" → "바나나에 대해 더 말해주세요"
                        </div>
                    </div>
                    <div style="background: rgba(78, 205, 196, 0.1); padding: 20px; border-radius: 15px;">
                        <h4 style="color: #4ecdc4; margin-bottom: 15px;">🧠 현대 AI (ChatGPT)</h4>
                        <ul style="text-align: left; line-height: 1.6; padding-left: 20px;">
                            <li>✅ 깊은 문맥 이해</li>
                            <li>✅ 방대한 지식 보유</li>
                            <li>✅ 딥러닝 기반</li>
                            <li>✅ 지속적 학습</li>
                            <li>✅ 창의적 생성 가능</li>
                        </ul>
                        <div style="margin-top: 15px; padding: 10px; background: rgba(78, 205, 196, 0.2); border-radius: 8px;">
                            <strong>예시:</strong><br>
                            "바나나는 맛있어요" → "바나나는 칼륨이 풍부하고 운동 후 에너지 보충에 좋죠. 어떤 방식으로 드시는 걸 좋아하세요?"
                        </div>
                    </div>
                </div>
                <div style="margin-top: 20px; text-align: center;">
                    <p style="font-size: 1.1rem; color: #f9ca24;">🚀 약 60년간의 기술 발전 차이를 보여주는 놀라운 진보!</p>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="close-popup-btn" style="background: #4ecdc4; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer;">닫기</button>
                </div>
            `;

        compareDiv.appendChild(content);
        document.body.appendChild(compareDiv);

        // 이벤트 리스너 추가
        const closeBtn = content.querySelector('.close-popup-btn');
        closeBtn.addEventListener('click', function (e) {
          e.stopPropagation();
          compareDiv.remove();
        });

        // 배경 클릭으로 닫기
        compareDiv.addEventListener('click', function (e) {
          if (e.target === compareDiv) {
            compareDiv.remove();
          }
        });

        // 콘텐츠 클릭 시 이벤트 전파 방지
        content.addEventListener('click', function (e) {
          e.stopPropagation();
        });

        incrementInteraction();
      }

      // 2017년 트랜스포머 어텐션 시각화
      function visualizeAttention() {
        const input = document.getElementById('attentionInput').value.trim();
        if (!input) {
          alert('문장을 입력해주세요!');
          return;
        }

        const words = input.split(' ');
        const visualization = document.getElementById('attentionVisualization');

        let html = '<h5>🎯 어텐션 패턴 시각화:</h5>';
        html += '<div style="margin: 15px 0;">각 단어가 다른 단어들과 얼마나 관련이 있는지 확인해보세요!</div>';

        html += '<div class="attention-matrix">';
        for (let i = 0; i < Math.min(words.length, 4); i++) {
          for (let j = 0; j < Math.min(words.length, 4); j++) {
            const attention = Math.random();
            const opacity = 0.3 + attention * 0.7;
            html += `<div class="attention-cell" style="background: rgba(78, 205, 196, ${opacity})">
                        ${words[i]} → ${words[j]}<br>
                        ${(attention * 100).toFixed(0)}%
                    </div>`;
          }
        }
        html += '</div>';

        visualization.innerHTML = html;
        unlockAchievement('어텐션 마스터');
        incrementInteraction();
      }

      function showTransformerLayers() {
        const structure = document.getElementById('transformerStructure');
        structure.style.display = structure.style.display === 'none' ? 'block' : 'none';

        if (structure.style.display === 'block') {
          const steps = structure.querySelectorAll('.process-step');
          steps.forEach((step, index) => {
            setTimeout(() => {
              step.classList.add('active');
            }, index * 400);
          });
        }
        incrementInteraction();
      }

      // 2020년 LLM 처리 과정
      function processLLMQuery() {
        const input = document.getElementById('llmInput').value.trim();
        if (!input) {
          alert('질문을 입력해주세요!');
          return;
        }

        const stepsDiv = document.getElementById('llmSteps');
        const steps = [
          {
            title: '1️⃣ 토크나이제이션',
            content: `"${input}"를 토큰으로 분해: ${input
              .split(' ')
              .map((word) => `[${word}]`)
              .join(' ')}`,
          },
          {
            title: '2️⃣ 임베딩 변환',
            content: '각 토큰을 고차원 벡터로 변환 (예: 512차원 또는 1024차원)',
          },
          {
            title: '3️⃣ 어텐션 계산',
            content: '토큰들 간의 관계를 분석하여 문맥 파악',
          },
          {
            title: '4️⃣ 트랜스포머 레이어 처리',
            content: '48개의 레이어를 통해 점진적으로 의미 추출',
          },
          {
            title: '5️⃣ 응답 생성',
            content: generateSimpleResponse(input),
          },
        ];

        stepsDiv.innerHTML = '';
        steps.forEach((step, index) => {
          setTimeout(() => {
            const stepDiv = document.createElement('div');
            stepDiv.className = 'process-step active';
            stepDiv.innerHTML = `<h5>${step.title}</h5><p>${step.content}</p>`;
            stepsDiv.appendChild(stepDiv);
          }, index * 800);
        });

        unlockAchievement('LLM 프로세스 이해자');
        incrementInteraction();
      }

      function generateSimpleResponse(query) {
        const responses = {
          바나나: '바나나는 칼륨이 풍부한 과일로, 근육 기능과 심장 건강에 도움이 됩니다.',
          ai: 'AI는 인간의 지능을 모방하는 컴퓨터 시스템으로, 학습과 추론이 가능합니다.',
          파이썬: 'Python은 읽기 쉽고 다용도로 사용할 수 있는 프로그래밍 언어입니다.',
        };

        const lowerQuery = query.toLowerCase();
        for (let keyword in responses) {
          if (lowerQuery.includes(keyword)) {
            return responses[keyword];
          }
        }

        return '"' + query + '"에 대한 답변을 생성하여 사용자에게 제공합니다.';
      }

      function showScaling() {
        const chart = document.getElementById('scalingChart');
        chart.style.display = chart.style.display === 'none' ? 'block' : 'none';
        incrementInteraction();
      }

      // Hugging Face API 설정
      const HF_API_TOKEN = 'hf_'; // 실제 사용시 Hugging Face 토큰 필요
      const HF_API_URL = 'https://api-inference.huggingface.co/models/microsoft/DialoGPT-medium';

      // API 사용 가능 여부 확인
      let useRealAPI = false;

      // 실제 AI API 호출 함수
      async function callHuggingFaceAPI(message) {
        if (!HF_API_TOKEN || HF_API_TOKEN === 'hf_') {
          return null; // API 키가 없으면 null 반환
        }

        try {
          const response = await fetch(HF_API_URL, {
            method: 'POST',
            headers: {
              Authorization: `Bearer ${HF_API_TOKEN}`,
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              inputs: {
                past_user_inputs: [],
                generated_responses: [],
                text: message,
              },
              parameters: {
                max_length: 150,
                temperature: 0.7,
                top_p: 0.9,
                do_sample: true,
              },
            }),
          });

          if (response.ok) {
            const data = await response.json();
            return data.generated_text || data.response || null;
          } else if (response.status === 503) {
            // 모델 로딩 중
            return '🤖 AI 모델을 준비하고 있습니다. 잠시 후 다시 시도해주세요...';
          } else {
            console.error('API Error:', response.status);
            return null;
          }
        } catch (error) {
          console.error('API 호출 오류:', error);
          return null;
        }
      }

      // 무료 대안 API들을 시도하는 함수
      async function tryFreeAPIs(message) {
        // 1. Hugging Face API 시도
        let response = await callHuggingFaceAPI(message);
        if (response) return response;

        // 2. 다른 무료 API도 시도 가능 (예: OpenAI 무료 크레딧)
        // 현재는 Hugging Face만 구현

        return null; // 모든 API 실패
      }

      async function generateModernResponse(message) {
        // 먼저 실제 API 시도
        const apiResponse = await tryFreeAPIs(message);
        if (apiResponse && apiResponse !== null) {
          return '🤖 AI API 응답: ' + apiResponse;
        }

        // API 실패시 고도화된 시뮬레이션 사용
        const lowerMsg = message.toLowerCase().trim();

        // 더 정교한 키워드 기반 응답 시스템
        const advancedResponses = {
          // 과일/음식 관련
          바나나: [
            '바나나는 칼륨(358mg/100g), 비타민 C, 비타민 B6가 풍부한 과일입니다. 운동 후 근육 회복에 도움이 되고, 세로토닌 생성을 촉진하여 기분 개선에도 효과가 있어요. 하루 1-2개가 적당합니다.',
            '바나나의 영양성분을 알려드릴게요! 100g당 칼로리는 약 89kcal이고, 탄수화물 23g, 식이섬유 2.6g이 들어있습니다. 특히 칼륨이 풍부해서 혈압 조절에 도움이 되죠.',
            '바나나는 정말 훌륭한 과일이에요! 운동선수들이 경기 중에 자주 먹는 이유는 빠른 에너지 공급과 근육 경련 예방 때문입니다. 익은 정도에 따라 단맛과 영양성분이 달라지기도 해요.',
          ],

          // AI 관련
          ai: [
            'AI는 머신러닝, 딥러닝, 자연어 처리 등의 기술을 통해 인간의 인지 능력을 모방합니다. 현재는 특정 작업에 특화된 약한 AI 단계이며, 향후 AGI(범용 인공지능) 개발을 목표로 하고 있습니다.',
            '인공지능은 크게 세 단계로 발전하고 있어요. 1단계는 현재의 특화 AI(ANI), 2단계는 인간 수준의 AGI, 3단계는 인간을 넘어서는 ASI입니다. 지금은 1단계에서 2단계로 넘어가는 전환점에 있죠.',
            'AI 기술의 핵심은 데이터로부터 패턴을 학습하는 것입니다. 신경망, 트랜스포머, 강화학습 등 다양한 접근법이 있고, 각각 장단점이 있어요. 궁금한 특정 AI 기술이 있다면 더 자세히 설명해드릴게요!',
          ],

          // 프로그래밍 관련
          파이썬: [
            'Python은 1991년 귀도 반 로섬이 개발한 고급 프로그래밍 언어입니다. 간결한 문법, 풍부한 라이브러리, 강력한 커뮤니티를 바탕으로 데이터 과학, 웹 개발, AI 개발에 널리 사용됩니다.',
            '파이썬의 가장 큰 장점은 읽기 쉬운 문법이에요. "인생은 짧으니 파이썬을 쓰자"라는 말처럼, 다른 언어로 10줄 걸릴 코드를 3-4줄로 줄일 수 있습니다. NumPy, Pandas, TensorFlow 같은 라이브러리도 정말 강력해요.',
            '파이썬은 초보자부터 전문가까지 모두 사랑하는 언어입니다. 문법이 영어와 비슷해서 배우기 쉽고, 웹 개발(Django, Flask), 데이터 분석(Pandas), AI(PyTorch, TensorFlow) 등 거의 모든 분야에서 활용 가능해요.',
          ],

          // 학습/교육 관련
          공부: [
            '효과적인 공부법을 추천드릴게요! 포모도로 기법(25분 집중 + 5분 휴식), 액티브 리콜(능동적 회상), 분산 학습(spaced repetition) 등이 과학적으로 입증된 방법들입니다.',
            '공부할 때 가장 중요한 것은 메타인지예요. 내가 무엇을 알고 모르는지 파악하는 능력이죠. 단순 암기보다는 개념 간의 연결고리를 찾고, 다른 사람에게 설명할 수 있을 정도로 이해하는 것이 핵심입니다.',
            '공부의 질을 높이려면 환경설정이 중요해요. 스마트폰은 다른 방에 두고, 조용하고 정리된 공간에서, 충분한 조명 하에서 공부하세요. 그리고 충분한 수면과 규칙적인 운동도 학습 효율을 크게 높입니다.',
          ],
        };

        // 문맥을 고려한 패턴 매칭
        const contextualPatterns = [
          {
            keywords: ['어떻게', '방법', '하는법'],
            responses: [
              '좋은 질문이네요! 구체적으로 어떤 부분이 궁금하신지 알려주시면 단계별로 자세히 설명해드릴게요.',
              '방법을 찾고 계시는군요. 목적과 상황에 따라 접근법이 달라질 수 있으니, 더 구체적인 맥락을 알려주시면 맞춤형 조언을 드릴 수 있어요.',
              '해결 방법은 여러 가지가 있을 수 있습니다. 먼저 현재 상황을 정확히 파악하고, 목표를 명확히 하는 것이 첫 번째 단계예요.',
            ],
          },
          {
            keywords: ['왜', '이유', '원인'],
            responses: [
              '그 이유를 설명해드릴게요. 여러 요인이 복합적으로 작용하는 경우가 많은데, 주요 원인들을 차례대로 살펴보면...',
              '흥미로운 질문입니다! 이런 현상이 일어나는 이유는 주로 세 가지 관점에서 설명할 수 있어요.',
              '원인을 파악하는 것은 정말 중요하죠. 표면적인 원인과 근본적인 원인을 구분해서 생각해보는 것이 도움이 될 거예요.',
            ],
          },
        ];

        // 1. 정확한 키워드 매칭 (다중 응답)
        for (let keyword in advancedResponses) {
          if (lowerMsg.includes(keyword)) {
            const responses = advancedResponses[keyword];
            return '📚 시뮬레이션 응답: ' + responses[Math.floor(Math.random() * responses.length)];
          }
        }

        // 2. 문맥 패턴 매칭
        for (let pattern of contextualPatterns) {
          if (pattern.keywords.some((keyword) => lowerMsg.includes(keyword))) {
            const responses = pattern.responses;
            return '📚 시뮬레이션 응답: ' + responses[Math.floor(Math.random() * responses.length)];
          }
        }

        // 3. 기본 응답
        const sophisticatedResponses = [
          `"${message}"에 대해 말씀하시는군요. 이는 여러 관점에서 접근할 수 있는 흥미로운 주제입니다. 어떤 특정 측면에 대해 더 자세히 알고 싶으신가요?`,
          `좋은 포인트를 제기해주셨네요! "${message}"와 관련해서는 최근 연구나 트렌드도 많이 바뀌고 있어요. 구체적으로 어떤 부분이 가장 궁금하신가요?`,
          `"${message}"에 대한 질문이시군요. 이런 주제는 개인의 상황이나 목적에 따라 접근법이 달라질 수 있어요. 현재 상황을 조금 더 알려주시면 더 맞춤형 답변을 드릴 수 있을 것 같습니다.`,
        ];

        return `📚 시뮬레이션 응답: ${
          sophisticatedResponses[Math.floor(Math.random() * sophisticatedResponses.length)]
        }`;
      }

      // 2022년 현대 AI 채팅 (API 연동 버전)
      async function sendModernMessage() {
        const input = document.getElementById('modernInput');
        const message = input.value.trim();
        if (!message) return;

        const chatDiv = document.getElementById('modernChat');

        // 사용자 메시지 추가
        const userMsg = document.createElement('div');
        userMsg.className = 'chat-message';
        userMsg.innerHTML = `<strong>사용자:</strong> ${message}`;
        chatDiv.appendChild(userMsg);

        // 로딩 메시지 추가
        const loadingMsg = document.createElement('div');
        loadingMsg.className = 'chat-message';
        loadingMsg.innerHTML = '<strong>AI:</strong> <span style="opacity: 0.7;">💭 답변을 생성하고 있습니다...</span>';
        chatDiv.appendChild(loadingMsg);
        chatDiv.scrollTop = chatDiv.scrollHeight;

        // AI 응답 생성 (API 호출 포함)
        try {
          const response = await generateModernResponse(message);

          // 로딩 메시지 제거
          loadingMsg.remove();

          // 실제 응답 추가
          const aiMsg = document.createElement('div');
          aiMsg.className = 'chat-message';
          aiMsg.innerHTML = '<strong>AI:</strong> ' + response;
          chatDiv.appendChild(aiMsg);
          chatDiv.scrollTop = chatDiv.scrollHeight;
        } catch (error) {
          console.error('응답 생성 오류:', error);
          loadingMsg.innerHTML =
            '<strong>AI:</strong> <span style="color: #ff6b6b;">죄송합니다. 일시적인 오류가 발생했습니다. 다시 시도해주세요.</span>';
        }

        input.value = '';
        unlockAchievement('현대 AI 대화 전문가');
        incrementInteraction();
      }

      // API 상태 체크 및 사용자 안내 함수
      function showAPIStatus() {
        const statusDiv = document.createElement('div');
        statusDiv.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: rgba(78, 205, 196, 0.1);
                backdrop-filter: blur(10px);
                border: 2px solid #4ecdc4;
                border-radius: 15px;
                padding: 20px;
                color: white;
                max-width: 300px;
                z-index: 1000;
                animation: slideIn 0.5s ease;
            `;

        const hasAPI = HF_API_TOKEN && HF_API_TOKEN !== 'hf_';

        statusDiv.innerHTML =
          '<h4 style="color: #4ecdc4; margin-bottom: 10px;">🤖 AI API 상태</h4>' +
          (hasAPI
            ? '<p style="color: #4ecdc4;">✅ 실제 AI API 연결됨</p><p style="font-size: 0.9rem; opacity: 0.8;">Hugging Face 모델 사용 중</p>'
            : '<p style="color: #f9ca24;">📚 시뮬레이션 모드</p><p style="font-size: 0.9rem; opacity: 0.8;">API 키 없음 - 고도화된 응답 시뮬레이션 사용</p>') +
          '<div style="margin-top: 15px; font-size: 0.8rem; opacity: 0.7;">' +
          '<strong>무료 API 옵션:</strong><br>' +
          '• Hugging Face (무료 계정)<br>' +
          '• OpenAI (무료 크레딧)<br>' +
          '• Google Colab (무료 GPU)' +
          '</div>' +
          '<button onclick="this.parentElement.remove()" style="margin-top: 10px; background: #4ecdc4; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">닫기</button>';

        document.body.appendChild(statusDiv);

        setTimeout(() => {
          if (statusDiv.parentNode) {
            statusDiv.remove();
          }
        }, 8000);
      }

      function showChatGPTCapabilities() {
        console.log('showChatGPTCapabilities 함수 호출됨');

        // 기존 팝업이 있다면 제거
        const existingPopup = document.querySelector('.capabilities-popup');
        if (existingPopup) {
          existingPopup.remove();
        }

        const capabilitiesDiv = document.createElement('div');
        capabilitiesDiv.className = 'capabilities-popup';
        capabilitiesDiv.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                z-index: 1002;
                display: flex;
                align-items: center;
                justify-content: center;
            `;

        const content = document.createElement('div');
        content.style.cssText = `
                background: rgba(26, 26, 46, 0.98);
                padding: 30px;
                border-radius: 20px;
                color: white;
                max-width: 600px;
                max-height: 80vh;
                overflow-y: auto;
                border: 2px solid #4ecdc4;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                position: relative;
            `;

        content.innerHTML = `
                <h3 style="color: #4ecdc4; margin-bottom: 20px;">✨ ChatGPT의 주요 능력</h3>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                    <div style="background: rgba(78, 205, 196, 0.1); padding: 20px; border-radius: 15px;">
                        <h4 style="color: #4ecdc4; margin-bottom: 15px;">🧠 이해 능력</h4>
                        <ul style="text-align: left; line-height: 1.6; padding-left: 20px;">
                            <li>복잡한 문맥 파악</li>
                            <li>100+ 언어 지원</li>
                            <li>의도 추론</li>
                            <li>뉘앙스 이해</li>
                        </ul>
                    </div>
                    <div style="background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 15px;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">💡 생성 능력</h4>
                        <ul style="text-align: left; line-height: 1.6; padding-left: 20px;">
                            <li>창의적 글쓰기</li>
                            <li>코드 작성</li>
                            <li>문제 해결 방법 제시</li>
                            <li>요약 및 분석</li>
                        </ul>
                    </div>
                </div>

                <div style="background: rgba(249, 202, 36, 0.1); padding: 20px; border-radius: 15px; margin-bottom: 20px;">
                    <h4 style="color: #f9ca24; margin-bottom: 15px;">🤝 대화 능력</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <ul style="text-align: left; line-height: 1.6; padding-left: 20px;">
                            <li>자연스러운 대화 흐름</li>
                            <li>이전 대화 기억</li>
                        </ul>
                        <ul style="text-align: left; line-height: 1.6; padding-left: 20px;">
                            <li>감정적 공감</li>
                            <li>맥락 유지</li>
                        </ul>
                    </div>
                </div>

                <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 15px; margin-bottom: 20px;">
                    <h4 style="color: #ff6b6b; margin-bottom: 15px;">🎯 실제 활용 예시</h4>
                    <div style="text-align: left; line-height: 1.8;">
                        <p><strong>📚 학습 도우미:</strong> "수학 문제 풀이 과정을 단계별로 설명해줘"</p>
                        <p><strong>💻 코딩 도우미:</strong> "Python으로 웹 스크래핑 코드 작성해줘"</p>
                        <p><strong>✍️ 글쓰기 도우미:</strong> "에세이 개요를 만들어줘"</p>
                        <p><strong>🌍 언어 도우미:</strong> "이 문장을 자연스럽게 번역해줘"</p>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px;">
                    <button class="close-popup-btn" style="background: #4ecdc4; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer;">닫기</button>
                </div>
            `;

        capabilitiesDiv.appendChild(content);
        document.body.appendChild(capabilitiesDiv);

        // 이벤트 리스너 추가
        const closeBtn = content.querySelector('.close-popup-btn');
        closeBtn.addEventListener('click', function (e) {
          e.stopPropagation();
          capabilitiesDiv.remove();
        });

        // 배경 클릭으로 닫기
        capabilitiesDiv.addEventListener('click', function (e) {
          if (e.target === capabilitiesDiv) {
            capabilitiesDiv.remove();
          }
        });

        // 콘텐츠 클릭 시 이벤트 전파 방지
        content.addEventListener('click', function (e) {
          e.stopPropagation();
        });

        incrementInteraction();
      }

      function generateCreativeContent() {
        console.log('generateCreativeContent 함수 호출됨');

        // 기존 팝업이 있다면 제거
        const existingPopup = document.querySelector('.creative-popup');
        if (existingPopup) {
          existingPopup.remove();
        }

        const creativeDiv = document.createElement('div');
        creativeDiv.className = 'creative-popup';
        creativeDiv.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                z-index: 1002;
                display: flex;
                align-items: center;
                justify-content: center;
            `;

        const content = document.createElement('div');
        content.style.cssText = `
                background: rgba(26, 26, 46, 0.98);
                padding: 30px;
                border-radius: 20px;
                color: white;
                max-width: 650px;
                max-height: 80vh;
                overflow-y: auto;
                border: 2px solid #4ecdc4;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                position: relative;
            `;

        const creativeTasks = [
          {
            emoji: '🎵',
            title: 'AI와 인간이 함께 만드는 미래',
            type: '시 창작',
            description: '첨단 기술과 인간의 감성이 어우러진 세상을 시로 표현해보세요.',
            example: '"손을 맞잡은 인간과 AI, 꿈을 코딩하는 새로운 세상..."',
          },
          {
            emoji: '📖',
            title: '시간을 되돌릴 수 있는 AI',
            type: '소설 창작',
            description: '과거로 돌아갈 수 있는 AI가 발견한 중요한 진실에 대한 이야기.',
            example: '"2045년, AI 크로노스는 마침내 시간의 비밀을 풀었다..."',
          },
          {
            emoji: '🎨',
            title: '감정을 색깔로 표현하는 AI',
            type: '아이디어 개발',
            description: '인간의 감정을 시각화하는 AI 시스템의 작동 원리와 활용 방안.',
            example: '"기쁨은 황금빛, 슬픔은 깊은 파란색으로 화면에 그려지며..."',
          },
          {
            emoji: '🚀',
            title: '2050년 AI 세상의 하루',
            type: '미래 시나리오',
            description: '25년 후 AI가 일상에 완전히 통합된 세상에서의 평범한 하루.',
            example: '"아침 7시, AI 비서가 맞춤형 뉴스 브리핑으로 하루를 시작했다..."',
          },
        ];

        const randomTask = creativeTasks[Math.floor(Math.random() * creativeTasks.length)];

        content.innerHTML = `
                <h3 style="color: #4ecdc4; margin-bottom: 20px;">🎨 ChatGPT 창작 능력 테스트</h3>

                <div style="background: rgba(78, 205, 196, 0.1); padding: 25px; border-radius: 15px; margin-bottom: 20px;">
                    <div style="font-size: 3rem; text-align: center; margin-bottom: 15px;">${randomTask.emoji}</div>
                    <h4 style="color: #4ecdc4; text-align: center; margin-bottom: 10px;">${randomTask.title}</h4>
                    <p style="text-align: center; color: #f9ca24; margin-bottom: 15px;"><strong>장르:</strong> ${randomTask.type}</p>
                    <p style="line-height: 1.6; margin-bottom: 15px;">${randomTask.description}</p>
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 10px; font-style: italic;">
                        <strong>예시 시작:</strong> ${randomTask.example}
                    </div>
                </div>

                <div style="background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 15px; margin-bottom: 20px;">
                    <h5 style="color: #667eea; margin-bottom: 15px;">💡 ChatGPT 창작 특징:</h5>
                    <ul style="text-align: left; line-height: 1.6; padding-left: 20px;">
                        <li><strong>다양한 장르:</strong> 시, 소설, 에세이, 시나리오 등</li>
                        <li><strong>스타일 조절:</strong> 공식적/캐주얼, 유머러스/진지한 톤</li>
                        <li><strong>창의적 조합:</strong> 서로 다른 개념들을 새롭게 결합</li>
                        <li><strong>협업 가능:</strong> 사용자와 함께 아이디어 발전</li>
                    </ul>
                </div>

                <div style="background: rgba(249, 202, 36, 0.1); padding: 20px; border-radius: 15px; margin-bottom: 20px;">
                    <h5 style="color: #f9ca24; margin-bottom: 15px;">🔥 실제 ChatGPT에서 시도해볼 프롬프트:</h5>
                    <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 10px; font-family: monospace; font-size: 0.9rem;">
                        "${randomTask.title}"라는 주제로 ${randomTask.type}을 써줘.
                        감정이 풍부하고 창의적인 내용으로 500자 정도로 작성해줘.
                    </div>
                </div>

                <div style="text-align: center;">
                    <button class="retry-btn" style="background: #667eea; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; margin-right: 10px;">다른 주제 보기</button>
                    <button class="close-popup-btn" style="background: #4ecdc4; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer;">닫기</button>
                </div>
            `;

        creativeDiv.appendChild(content);
        document.body.appendChild(creativeDiv);

        // 이벤트 리스너 추가
        const closeBtn = content.querySelector('.close-popup-btn');
        closeBtn.addEventListener('click', function (e) {
          e.stopPropagation();
          creativeDiv.remove();
        });

        const retryBtn = content.querySelector('.retry-btn');
        retryBtn.addEventListener('click', function (e) {
          e.stopPropagation();
          creativeDiv.remove();
          generateCreativeContent(); // 재귀 호출로 새 주제 생성
        });

        // 배경 클릭으로 닫기
        creativeDiv.addEventListener('click', function (e) {
          if (e.target === creativeDiv) {
            creativeDiv.remove();
          }
        });

        // 콘텐츠 클릭 시 이벤트 전파 방지
        content.addEventListener('click', function (e) {
          e.stopPropagation();
        });

        unlockAchievement('창작 AI 탐험가');
        incrementInteraction();
      }

      // 2024년 멀티모달 AI
      function testModality(type) {
        const result = document.getElementById('modalityResult');
        const content = document.getElementById('modalityContent');

        // 모든 입력 요소 비활성화 후 선택된 것만 활성화
        document.querySelectorAll('.modal-input').forEach((input) => {
          input.classList.remove('active');
        });
        event.target.closest('.modal-input').classList.add('active');

        const modalityExamples = {
          text: {
            title: '📝 텍스트 분석 결과',
            content: `
                        <p><strong>능력:</strong> 자연어 이해, 감정 분석, 요약, 번역</p>
                        <p><strong>예시:</strong> "오늘 기분이 좋아요" → 긍정적 감정(95% 확신)</p>
                        <p><strong>활용:</strong> 챗봇, 번역 서비스, 문서 요약</p>
                    `,
          },
          image: {
            title: '🖼️ 이미지 분석 결과',
            content: `
                        <p><strong>능력:</strong> 객체 인식, 장면 이해, 텍스트 추출, 이미지 생성</p>
                        <p><strong>예시:</strong> 사진 속 고양이, 나무, 집 인식 + "평화로운 시골 풍경"</p>
                        <p><strong>활용:</strong> 자율주행, 의료 진단, 보안 시스템</p>
                    `,
          },
          audio: {
            title: '🎵 음성 분석 결과',
            content: `
                        <p><strong>능력:</strong> 음성 인식, 화자 구분, 감정 인식, 음성 합성</p>
                        <p><strong>예시:</strong> "안녕하세요" → 텍스트 변환 + 친근한 톤 감지</p>
                        <p><strong>활용:</strong> 음성 비서, 실시간 번역, 오디오북</p>
                    `,
          },
          video: {
            title: '🎬 비디오 분석 결과',
            content: `
                        <p><strong>능력:</strong> 행동 인식, 장면 전환 감지, 하이라이트 추출</p>
                        <p><strong>예시:</strong> 요리 영상에서 "계란 깨기" → "볶기" 단계 구분</p>
                        <p><strong>활용:</strong> 영상 편집, 스포츠 분석, 교육 콘텐츠</p>
                    `,
          },
        };

        content.innerHTML = modalityExamples[type].content;
        result.style.display = 'block';

        unlockAchievement('멀티모달 탐험가');
        incrementInteraction();
      }

      function showAGIProgress() {
        const agiInfo = document.getElementById('agiInfo');
        agiInfo.style.display = agiInfo.style.display === 'none' ? 'block' : 'none';
        incrementInteraction();
      }

      function predictAGIFuture() {
        alert(`🤖 AGI 미래 예측:

📅 단계별 발전 예상:
2025-2027: 더 정교한 멀티모달 AI
2028-2030: 추론 능력 대폭 향상
2031-2035: AGI 프로토타입 등장
2036-2040: 실용적 AGI 상용화

⚠️ 주의사항:
- 안전한 AGI 개발이 최우선
- 인간과의 협력 관계 유지
- 윤리적 AI 사용 필수`);
        incrementInteraction();
      }

      // 2025년 미래 시나리오
      function showFutureScenario(scenario) {
        const result = document.getElementById('futureScenario');

        const scenarios = {
          education: {
            title: '🎓 교육 혁신 시나리오',
            content: `
                        <h5>2035년의 교실:</h5>
                        <ul style="text-align: left; line-height: 1.8;">
                            <li>🤖 개인 AI 튜터가 각 학생의 학습 속도에 맞춰 커리큘럼 조정</li>
                            <li>🥽 VR로 고대 로마를 직접 걸어다니며 역사 학습</li>
                            <li>💬 AI가 실시간으로 이해도를 분석하고 설명 방식 조정</li>
                            <li>🌍 전 세계 학생들과 AI 번역으로 실시간 토론</li>
                            <li>📊 학습 데이터 분석으로 최적의 학습 경로 제시</li>
                        </ul>
                    `,
          },
          healthcare: {
            title: '🏥 의료 혁명 시나리오',
            content: `
                        <h5>2035년의 병원:</h5>
                        <ul style="text-align: left; line-height: 1.8;">
                            <li>⌚ 웨어러블 기기로 24시간 건강 모니터링</li>
                            <li>🧬 유전자 분석 기반 맞춤형 치료법 제시</li>
                            <li>🤖 AI 진단으로 질병 조기 발견 (정확도 99%)</li>
                            <li>💊 AI가 개인별 최적 약물 조합 설계</li>
                            <li>🔬 신약 개발 시간을 10년에서 2년으로 단축</li>
                        </ul>
                    `,
          },
          work: {
            title: '💼 업무 변화 시나리오',
            content: `
                        <h5>2035년의 직장:</h5>
                        <ul style="text-align: left; line-height: 1.8;">
                            <li>🤝 AI가 반복 업무 처리, 인간은 창의적 업무 집중</li>
                            <li>🧠 AI 동료가 아이디어 브레인스토밍에 참여</li>
                            <li>📊 실시간 데이터 분석으로 즉석 의사결정 지원</li>
                            <li>🌐 언어 장벽 없는 글로벌 협업</li>
                            <li>⏰ 업무 효율 증가로 주 4일 근무제 확산</li>
                        </ul>
                    `,
          },
          creativity: {
            title: '🎨 창작 지원 시나리오',
            content: `
                        <h5>2035년의 창작자:</h5>
                        <ul style="text-align: left; line-height: 1.8;">
                            <li>🎵 AI가 작곡가와 함께 새로운 장르의 음악 창조</li>
                            <li>📚 소설가와 AI가 공동으로 인터랙티브 스토리 집필</li>
                            <li>🎬 AI가 영화 편집과 특수효과를 실시간 생성</li>
                            <li>🖼️ 화가의 스케치를 AI가 다양한 스타일로 완성</li>
                            <li>🎭 개인 취향 분석으로 완전 맞춤형 예술 작품 제작</li>
                        </ul>
                    `,
          },
        };

        result.innerHTML = `
                <div style="background: rgba(78, 205, 196, 0.1); padding: 20px; border-radius: 15px;">
                    <h4>${scenarios[scenario].title}</h4>
                    ${scenarios[scenario].content}
                </div>
            `;

        unlockAchievement('미래 비전 탐험가');
        incrementInteraction();
      }

      function takeAIQuiz() {
        const questions = [
          '첫 번째 인공 뉴런을 만든 사람은?',
          '"인공지능"이라는 용어를 처음 사용한 해는?',
          'ChatGPT의 기반 기술은?',
          '멀티모달 AI의 특징은?',
        ];

        const randomQuestion = questions[Math.floor(Math.random() * questions.length)];
        const userAnswer = prompt(`🧪 AI 지식 테스트:

${randomQuestion}

답을 입력해주세요:`);

        if (userAnswer) {
          alert(`👏 훌륭합니다!

여러분의 답: "${userAnswer}"

AI에 대해 많이 배우셨네요! 계속 탐험하면서 더 많은 지식을 쌓아보세요.`);
          unlockAchievement('AI 퀴즈 마스터');
          incrementInteraction();
        }
      }

      function showAITimeline() {
        alert(`📊 AI 발전 여정 정리:

🧠 1943년: 첫 인공 뉴런 (맥컬록-피츠)
🏛️ 1956년: AI 학문 분야 탄생
💬 1966년: 최초 챗봇 ELIZA
🔄 2017년: 트랜스포머 혁명
📚 2020년: 대규모 언어 모델
🤖 2022년: ChatGPT 대중화
🧠 2024년: 멀티모달 AI
🚀 2025년: AI 생태계 통합

축하합니다! AI의 놀라운 여정을 모두 탐험하셨네요! 🎉`);
        unlockAchievement('AI 역사 마스터');
      }

      function processWorkflow() {
        const input = document.getElementById('workflowInput').value.trim();
        if (!input) {
          alert('요청을 입력해주세요!');
          return;
        }

        const stepsDiv = document.getElementById('workflowSteps');
        const steps = [
          {
            title: '1️⃣ 요청 분석 (Planner Agent)',
            content: `사용자 요청 분석: "${input}" -> 핵심 과제: '날씨 확인' 및 '옷차림 추천'`,
          },
          {
            title: '2️⃣ 도구 선택 및 실행 (Tool-Using Agent)',
            content: '필요 도구 선택: "날씨 API" -> API 호출: `get_weather("today")`',
          },
          {
            title: '3️⃣ 정보 처리 및 통합 (Processing Agent)',
            content: 'API 결과 분석: "맑음, 최고 25도" -> 추천 생성 모델에 정보 전달',
          },
          {
            title: '4️⃣ 최종 응답 생성 (Response Agent)',
            content: '"오늘 날씨는 맑고 최고기온 25도입니다. 가벼운 긴팔이나 반팔에 얇은 외투를 추천합니다."',
          },
        ];

        stepsDiv.innerHTML = '';
        steps.forEach((step, index) => {
          setTimeout(() => {
            const stepDiv = document.createElement('div');
            stepDiv.className = 'process-step active';
            stepDiv.innerHTML = `<h5>${step.title}</h5><p>${step.content}</p>`;
            stepsDiv.appendChild(stepDiv);
          }, index * 800);
        });

        unlockAchievement('워크플로우 설계자');
        incrementInteraction();
      }

      function runAgent() {
        const input = document.getElementById('agentInput');
        const message = input.value.trim();
        if (!message) return;

        const chatDiv = document.getElementById('agentChat');

        const userMsg = document.createElement('div');
        userMsg.className = 'chat-message';
        userMsg.innerHTML = `<strong>목표:</strong> ${message}`;
        chatDiv.appendChild(userMsg);

        input.value = '';

        const thoughts = [
          "<strong>생각:</strong> 목표를 분석했습니다. '최신 AI 뉴스 3개 요약'이군요.",
          "<strong>계획:</strong> 1. 뉴스 검색 엔진을 사용해 '최신 AI 뉴스'를 검색한다. 2. 상위 3개 링크를 방문한다. 3. 각 페이지의 본문을 추출한다. 4. 각 본문을 요약 모델에 전달한다. 5. 최종 결과를 통합하여 보고한다.",
          "<strong>실행:</strong> 뉴스 검색 API를 호출합니다. `search_news('최신 AI 뉴스')`",
          '<strong>실행:</strong> 검색 결과 상위 3개 URL의 콘텐츠를 스크래핑합니다.',
          '<strong>실행:</strong> 각 콘텐츠를 요약 모델로 처리합니다.',
          '<strong>결과:</strong> 1. [뉴스1 요약...] 2. [뉴스2 요약...] 3. [뉴스3 요약...]',
          '<strong>최종 보고:</strong> 최신 AI 뉴스 3가지 요약을 완료했습니다. 확인해주세요.',
        ];

        thoughts.forEach((thought, index) => {
          setTimeout(() => {
            const thoughtMsg = document.createElement('div');
            thoughtMsg.className = 'chat-message';
            thoughtMsg.innerHTML = thought;
            chatDiv.appendChild(thoughtMsg);
            chatDiv.scrollTop = chatDiv.scrollHeight;
          }, (index + 1) * 1500);
        });

        unlockAchievement('에이전트 조련사');
        incrementInteraction();
      }

      // 스크롤 애니메이션 관찰자
      function observeItems() {
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                setTimeout(() => {
                  entry.target.classList.add('animate');
                }, 100);
              }
            });
          },
          {
            threshold: 0.4,
            rootMargin: '-50px 0px -50px 0px',
          }
        );

        document.querySelectorAll('.timeline-item').forEach((item) => {
          observer.observe(item);
        });
      }

      function updateScrollProgress() {
        const scrollTop = window.pageYOffset;
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        const scrollPercent = Math.min((scrollTop / docHeight) * 100, 100);

        document.getElementById('progressBar').style.width = scrollPercent + '%';
      }

      // 초기화
      window.addEventListener('load', function () {
        createParticles();
        observeItems();
        updateNeuron(); // 초기 뉴런 값 설정

        // 환영 메시지
        setTimeout(() => {
          showAchievementPopup('🚀 AI 발전 여정에 오신 것을 환영합니다!');
        }, 1000);
      });

      window.addEventListener('scroll', updateScrollProgress);

      // 외부 클릭 시 확장 콘텐츠 닫기
      document.addEventListener('click', function (e) {
        if (currentlyExpanded && !e.target.closest('.timeline-content')) {
          closeExpanded(currentlyExpanded);
        }
      });

      // 확장 콘텐츠 내부 클릭 이벤트 버블링 방지
      document.addEventListener('click', function (e) {
        if (e.target.closest('.expanded-content')) {
          e.stopPropagation();
        }
      });
    </script>
  </body>
</html>
